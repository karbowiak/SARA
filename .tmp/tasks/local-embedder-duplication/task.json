{
  "id": "local-embedder-duplication",
  "name": "Local Embedder for Duplicate Image Request Detection",
  "status": "active",
  "objective": "Add local embedder using transformers.js to detect and skip duplicate in-flight image generation requests via semantic similarity",
  "context_files": [
    "/Users/karbowiak/Private/bot/AGENTS.md",
    "/Users/karbowiak/Private/bot/app/plugins/ai/ai.plugin.ts",
    "/Users/karbowiak/Private/bot/app/plugins/ai/services/response-handler.ts",
    "/Users/karbowiak/Private/bot/app/plugins/ai/services/conversation.ts",
    "/Users/karbowiak/Private/bot/app/commands/discord.command.ts"
  ],
  "exit_criteria": [
    "Local embedder module created and initialized at startup",
    "RequestTracker service tracks in-flight image_generation requests",
    "Duplicate requests detected and skipped (similarity > 0.85)",
    "Stale requests cleaned up after 2 minutes",
    "AI context includes pending requests information",
    "System prompt updated with history usage guidelines"
  ],
  "subtask_count": 7,
  "completed_count": 0,
  "created_at": "2026-01-29T18:15:00Z"
}
